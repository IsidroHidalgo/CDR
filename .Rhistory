update.packages("vctrs")
usethis::use_r("accidentes2020_data")
usethis::use_r("crime_data_valencia")
usethis::use_r("data/renta_municipio_data")
usethis::use_r("renta_municipio_data")
usethis::use_r("tempmin_data")
usethis::use_test()
devtools::document()
?tempmin_data
?crime_data_valencia
??crime_data_valencia
devtools::document()
?crime_data_valencia
devtools:document()
devtools::document()
devtools::document()
devtools::document()
?crime_data_valencia
devtools::check(document=FALSE)
devtools::install_deps(dependencies = TRUE)
usethis::use_package_doc()
usethis::use_tibble()
devtools::document()
?CDR
devtools::install()
library(CDR)
usethis::create_github_token()
?crime_data_valencia
?map
ddevtools::load_all()
devtools::load_all()
usethis::use_r("tajo")
data(tajo)
View(tajo)
View(tajo)
install.packages("mapSpain")
?mapSpain::esp_get_rivers
names(tajo)
str(tajo)
devtools::document()
data("crime_data_valencia")
View(crime_data_valencia)
str(crime_data_valencia)
?tajo
data("accidentes2020_data")
str(accidentes2020_data)
names(accidentes2020_data)
str(accidentes2020_data)
View(accidentes2020_data)
library(data.table)
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv",dec=","))
usethis::use_data(accidentes2020_data, overwrite = TRUE)
data("accidentes2020_data")
View(accidentes2020_data)
str(accidentes2020_data)
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv",dec=","))
?fread
here::here()
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv"),dec = ",")
str(accidentes2020_data)
library(data.table)
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv"),dec=",")
usethis::use_data(accidentes2020_data, overwrite = TRUE)
str(acidentes2020)
str(acidentes2020_data)
data("accidentes2020_data")
str(acidentes2020_data)
View(accidentes2020_data)
str(accidentes2020_data)
View(accidentes2020_data)
#' Datos de accidentes de tráfico en 2020 en Madrid
#'
#' @format A data.table with 32427 rows and 17 variables:
#' \describe{
#'   \item{num_expediente}{chr Número de expediente del accidente }
#'   \item{fecha}{chr Fecha del accidente}
#'   \item{hora}{chr Hora del accidente}
#'   \item{localizacion}{chr Calle en la que se produce el accidente}
#'   \item{numero}{chr Número de portal }
#'   \item{distrito}{chr Distrito en el que se ubica la calle}
#'   \item{tipo_accidente}{chr Tipología del accidente}
#'   \item{estado_meteorológico}{chr Clima el día del accidente }
#'   \item{tipo_vehiculo}{chr Tipo de vehiculo implicado en el accidente}
#'   \item{tipo_persona}{chr Persona afectada por el accidente}
#'   \item{rango_edad}{chr Rango de edad del accidentado}
#'   \item{sexo}{chr Genero de la persona }
#'   \item{lesividad}{chr }
#'   \item{coordenada_x_utm}{num Coordenada X UTM }
#'   \item{coordenada_y_utm}{num Coordenada Y UTM }
#'   \item{positiva_alcohol}{chr ¿Positivo en la prueba de alcoholismo? }
#'   \item{positiva_droga}{chr ¿Positivo en la prueba de drogas?}
#' }
#' @source ?????
"accidentes_2020_data"
devtools::document()
devtools::document()
data("hosp_toledo")
View(hosp_toledo)
names(hosp_toledo)
?accidentes2020
?accidentes2020_data
usethis::use_r("hosp_toledo")
devtools::document()
usethis::use_r("municipios")
usethis::use_r("municipios")
data("municipios")
View(municipios)
names(municipios)
str(municipios)
devtools::document()
data("renta_municipio_data")
View(renta_municipio_data)
library(data.table)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
usethis::use_r(renta_municipio_data)
usethis::use_r("renta_municipio_data")
View(renta_municipio_data)
names(renta_municipio_data)
str(renta_municipio_data)
library(data.table)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
usethis::use_data(renta_municipio_data, overwrite = TRUE)
str(renta_municipio_data)
devtools::document()
devtools::document()
devtools::check()
data("tempmin_data")
data("toledo")
usethis::use_r("tempmin_data")
names(tempmin_data)
str(tempmin_data)
usethis::use_r("toledo")
View(toledo)
str(toledo)
devtools::document()
devtools::check()
View(tempmin_data)
data("municipios")
View(municipios)
data("data/crime_data_valencia.rda")
data("crime_data_valencia")
View(crime_data_valencia)
data("accidentes2020_data")
View(accidentes2020_data)
data("hosp_toledo")
View(hosp_toledo)
data("renta_municipio_data")
View(renta_municipio_data)
devtools::check()
?iconv
renta2 <- iconv(renta_municipio_data,"latin1","ASCII")
renta2 <- iconv(renta_municipio_data)
library(CDR)
usethis::github_token()
usethis :: create_github_token()
setwd("~/")
remove.packages("CDR", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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")
remove.packages("CDR", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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")
library(giscoR)
paises <- gisco_get_countries()
library(sf)
paises_robin <- st_transform(paises,st_crs("+proj=robin"))
library(raster)
install.packages("raster")
library(raster)
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
data("elev")
# Load Toledo province
library(sf)
Tol_prov <- st_read(here::here("data-raw/Toledo_prov.gpkg"),quiet=TRUE)
usethis::use_data(Tol_prov, overwrite = TRUE)
View(Tol_prov)
data("toledo")
if(!require("isdas")) remotes::install_github("paezha/isdas")
library(isdas)
if(!require("isdas")) remotes::install_github("paezha/isdas")
remotes::install_github("paezha/isdas")
library(remotes)
remotes::install_github("paezha/isdas")
remotes::install_github("paezha/isdas")
usethis::use_r("Tol_prov")
data("Tol_prov")
names(Tol_prov)
str(Tol_prov)
data(elev)
names(elev)
type(elev)
elev
devtools::document()
devtools::check()
devtools::document()
devtools::check()
library(CDR)
data(elev)
elev
?remotes::install_github
remove.packages("CDR", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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", dependencies = TRUE)
remotes::install_github("izcoal/CDR",auth_token = "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", dependencies = TRUE)
utils::download.file('https://api.github.com/repos/izcoal/CDR/tarball/HEAD')
data("elev")
data(elev)
here::here("data-raw/Toledo_DEM.asc")
here::here("data-raw/renta_municipio.csv")
plot(elev)
attach(CDR)
# Load Toledo elev
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
elev
?raster
# Load Toledo elev
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
devtools::document()
# Load Toledo elev
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
devtools::document()
library(data.table)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data[grep("Noblejas", renta_municipio_data$Unidad), ]
municipios[grep("Noblejas", municipios$name), c("name", "cpro", "cmun")]
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
library(data.table)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data[grep("Noblejas", renta_municipio_data$Unidad), ]
renta_municipio_data[grep("Noblejas", renta_municipio_data$name), c("name", "cpro", "cmun")]
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
renta_municipio_data$codigo_ine <- paste0(renta_municipio_data$cpro, renta_municipio_data$cmun)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
View(renta_municipio_data)
library(data.table)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data[grep("Noblejas", renta_municipio_data$Unidad), ]
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
library(sf)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios[grep("Noblejas", municipios$name), c("name", "cpro", "cmun")]
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
library(data.table)
library(sf)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
usethis::use_data(municipios, overwrite = TRUE)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
library(data.table)
library(sf)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
usethis::use_data(municipios, overwrite = TRUE)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
library(data.table)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
devtools::document()
# Load Toledo elev
if(!require("raster")) install.packages("raster")
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
