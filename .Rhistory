update.packages("vctrs")
usethis::use_r("accidentes2020_data")
usethis::use_r("crime_data_valencia")
usethis::use_r("data/renta_municipio_data")
usethis::use_r("renta_municipio_data")
usethis::use_r("tempmin_data")
usethis::use_test()
devtools::document()
?tempmin_data
?crime_data_valencia
??crime_data_valencia
devtools::document()
?crime_data_valencia
devtools:document()
devtools::document()
devtools::document()
devtools::document()
?crime_data_valencia
devtools::check(document=FALSE)
devtools::install_deps(dependencies = TRUE)
usethis::use_package_doc()
usethis::use_tibble()
devtools::document()
?CDR
devtools::install()
library(CDR)
usethis::create_github_token()
?crime_data_valencia
?map
ddevtools::load_all()
devtools::load_all()
usethis::use_r("tajo")
data(tajo)
View(tajo)
View(tajo)
install.packages("mapSpain")
?mapSpain::esp_get_rivers
names(tajo)
str(tajo)
devtools::document()
data("crime_data_valencia")
View(crime_data_valencia)
str(crime_data_valencia)
?tajo
data("accidentes2020_data")
str(accidentes2020_data)
names(accidentes2020_data)
str(accidentes2020_data)
View(accidentes2020_data)
library(data.table)
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv",dec=","))
usethis::use_data(accidentes2020_data, overwrite = TRUE)
data("accidentes2020_data")
View(accidentes2020_data)
str(accidentes2020_data)
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv",dec=","))
?fread
here::here()
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv"),dec = ",")
str(accidentes2020_data)
library(data.table)
accidentes2020_data <- fread(here::here("data-raw/2020_Accidentalidad.csv"),dec=",")
usethis::use_data(accidentes2020_data, overwrite = TRUE)
str(acidentes2020)
str(acidentes2020_data)
data("accidentes2020_data")
str(acidentes2020_data)
View(accidentes2020_data)
str(accidentes2020_data)
View(accidentes2020_data)
#' Datos de accidentes de tráfico en 2020 en Madrid
#'
#' @format A data.table with 32427 rows and 17 variables:
#' \describe{
#'   \item{num_expediente}{chr Número de expediente del accidente }
#'   \item{fecha}{chr Fecha del accidente}
#'   \item{hora}{chr Hora del accidente}
#'   \item{localizacion}{chr Calle en la que se produce el accidente}
#'   \item{numero}{chr Número de portal }
#'   \item{distrito}{chr Distrito en el que se ubica la calle}
#'   \item{tipo_accidente}{chr Tipología del accidente}
#'   \item{estado_meteorológico}{chr Clima el día del accidente }
#'   \item{tipo_vehiculo}{chr Tipo de vehiculo implicado en el accidente}
#'   \item{tipo_persona}{chr Persona afectada por el accidente}
#'   \item{rango_edad}{chr Rango de edad del accidentado}
#'   \item{sexo}{chr Genero de la persona }
#'   \item{lesividad}{chr }
#'   \item{coordenada_x_utm}{num Coordenada X UTM }
#'   \item{coordenada_y_utm}{num Coordenada Y UTM }
#'   \item{positiva_alcohol}{chr ¿Positivo en la prueba de alcoholismo? }
#'   \item{positiva_droga}{chr ¿Positivo en la prueba de drogas?}
#' }
#' @source ?????
"accidentes_2020_data"
devtools::document()
devtools::document()
data("hosp_toledo")
View(hosp_toledo)
names(hosp_toledo)
?accidentes2020
?accidentes2020_data
usethis::use_r("hosp_toledo")
devtools::document()
usethis::use_r("municipios")
usethis::use_r("municipios")
data("municipios")
View(municipios)
names(municipios)
str(municipios)
devtools::document()
data("renta_municipio_data")
View(renta_municipio_data)
library(data.table)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
usethis::use_r(renta_municipio_data)
usethis::use_r("renta_municipio_data")
View(renta_municipio_data)
names(renta_municipio_data)
str(renta_municipio_data)
library(data.table)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
usethis::use_data(renta_municipio_data, overwrite = TRUE)
str(renta_municipio_data)
devtools::document()
devtools::document()
devtools::check()
data("tempmin_data")
data("toledo")
usethis::use_r("tempmin_data")
names(tempmin_data)
str(tempmin_data)
usethis::use_r("toledo")
View(toledo)
str(toledo)
devtools::document()
devtools::check()
View(tempmin_data)
data("municipios")
View(municipios)
data("data/crime_data_valencia.rda")
data("crime_data_valencia")
View(crime_data_valencia)
data("accidentes2020_data")
View(accidentes2020_data)
data("hosp_toledo")
View(hosp_toledo)
data("renta_municipio_data")
View(renta_municipio_data)
devtools::check()
?iconv
renta2 <- iconv(renta_municipio_data,"latin1","ASCII")
renta2 <- iconv(renta_municipio_data)
library(CDR)
usethis::github_token()
usethis :: create_github_token()
setwd("~/")
remove.packages("CDR", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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")
remove.packages("CDR", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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")
library(giscoR)
paises <- gisco_get_countries()
library(sf)
paises_robin <- st_transform(paises,st_crs("+proj=robin"))
library(raster)
install.packages("raster")
library(raster)
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
data("elev")
# Load Toledo province
library(sf)
Tol_prov <- st_read(here::here("data-raw/Toledo_prov.gpkg"),quiet=TRUE)
usethis::use_data(Tol_prov, overwrite = TRUE)
View(Tol_prov)
data("toledo")
if(!require("isdas")) remotes::install_github("paezha/isdas")
library(isdas)
if(!require("isdas")) remotes::install_github("paezha/isdas")
remotes::install_github("paezha/isdas")
library(remotes)
remotes::install_github("paezha/isdas")
remotes::install_github("paezha/isdas")
usethis::use_r("Tol_prov")
data("Tol_prov")
names(Tol_prov)
str(Tol_prov)
data(elev)
names(elev)
type(elev)
elev
devtools::document()
devtools::check()
devtools::document()
devtools::check()
library(CDR)
data(elev)
elev
?remotes::install_github
remove.packages("CDR", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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", dependencies = TRUE)
remotes::install_github("izcoal/CDR",auth_token = "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", dependencies = TRUE)
utils::download.file('https://api.github.com/repos/izcoal/CDR/tarball/HEAD')
data("elev")
data(elev)
here::here("data-raw/Toledo_DEM.asc")
here::here("data-raw/renta_municipio.csv")
plot(elev)
attach(CDR)
# Load Toledo elev
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
elev
?raster
# Load Toledo elev
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
devtools::document()
# Load Toledo elev
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
devtools::document()
library(data.table)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data[grep("Noblejas", renta_municipio_data$Unidad), ]
municipios[grep("Noblejas", municipios$name), c("name", "cpro", "cmun")]
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
library(data.table)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data[grep("Noblejas", renta_municipio_data$Unidad), ]
renta_municipio_data[grep("Noblejas", renta_municipio_data$name), c("name", "cpro", "cmun")]
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
renta_municipio_data$codigo_ine <- paste0(renta_municipio_data$cpro, renta_municipio_data$cmun)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
View(renta_municipio_data)
library(data.table)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data[grep("Noblejas", renta_municipio_data$Unidad), ]
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
library(sf)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios[grep("Noblejas", municipios$name), c("name", "cpro", "cmun")]
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
library(data.table)
library(sf)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
usethis::use_data(municipios, overwrite = TRUE)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
library(data.table)
library(sf)
municipios <- st_read(here::here("data-raw/municipios.gpkg"),quiet = TRUE)
municipios$codigo_ine <- paste0(municipios$cpro, municipios$cmun)
usethis::use_data(municipios, overwrite = TRUE)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
library(data.table)
extrae_codigo <- function(x) {
unlist(strsplit(x, " "))[1]
}
renta_municipio_data <- fread(here::here("data-raw/renta_municipio.csv"),header = TRUE,na=".")
renta_municipio_data$codigo_ine <- sapply(as.character(renta_municipio_data$Unidad), extrae_codigo)
usethis::use_data(renta_municipio_data, overwrite = TRUE)
devtools::document()
# Load Toledo elev
if(!require("raster")) install.packages("raster")
library(raster)
elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
usethis::use_data(elev, overwrite = TRUE)
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
devtools::check()
library(CDR)
update.packages("knitr")
?update.packages
install.packages("knitr")
remove.packages("CDR", lib="~/R/win-library/3.6")
library(CDR)
remove.packages("CDR", lib="~/R/win-library/3.6")
devtools::install_github("paezha/isdas")
library(CDR)
devtools::check()
remove.packages("raster", lib="~/R/win-library/3.6")
remove.packages("sf", lib="~/R/win-library/3.6")
remove.packages("mapSpain", lib="~/R/win-library/3.6")
remove.packages("giscoR", lib="~/R/win-library/3.6")
remove.packages("CDR", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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", dependencies = TRUE)
?elev
remove.packages("CDR", lib="~/R/win-library/3.6")
remove.packages("isdas", lib="~/R/win-library/3.6")
remotes::install_github("izcoal/CDR",auth_token = "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", dependencies = TRUE)
?CDR::A
?CDR::accidentes2020_data
library(CDR)
?acc
?accidentes2020_data
library(CDR)
?accidentes2020_data
devtools::check()
devtools::check()
elev
library(CDR)
elev
data("elev")
?import.asc
install.packages("adehabitatHR")
??import.asc
install.packages("sdm")
plot(elev)
library(CDR)
plot(elev)
library(raster)
library(sp)
plot(elev)
#library(raster)
#elev <- raster(here::here("data-raw/Toledo_DEM.asc"))
x =read.csv(here::here("data-raw/Toledo_DEM.asc"), sep=";")
x
elev <- raster(x)
here::here("data-raw/Toledo_DEM.asc")
here:here()
here::here()
here::here("data-raw/Toledo_DEM.asc")
here::here("data-raw/toledo_ciudad.gpkg")
install.packages("eyelinker")
library(eyelinker)
asc_file <- read.asc(here::here("data-raw/Toledo_DEM.asc"))
?read_asc
asc_file <- read.asc(here::here("data-raw/Toledo_DEM.asc"),samples = FALSE)
asc_file <- read.asc(here::here("data-raw/Toledo_DEM.asc"),samples = FALSE, events = FALSE)
asc_file <- read.asc(here::here("data-raw/Toledo_DEM.asc"),
samples = FALSE, events = FALSE)
devtools::check()
CDR::elev
CDR::elev@file
devtools::check()
library(CDR)
library(CDR)
CDR::elev@file
library(raster)
CDR::elev@file
filename <- system.file("external/Toledo_DEM.asc", package="CDR")
filename
?usethis::use_data_raw
use_data_raw("daisy")
library(usethis)
use_data_raw("daisy")
daisy
?use_data
devtools::check()
?here::here
elev <- raster("data-raw/Toledo_DEM.asc") #raster(here::here("data-raw/Toledo_DEM.asc"))
elev@file
elev@file@name
?raster
system.file("external/Toledo_DEM.asc",package="CDR")
devtools::document()
library(CDR)
?accidentes2020_data
remove.packages("CDR", lib="~/R/win-library/3.6")
devtools::document()
devtools::document()
library(CDR)
?CDR::accidentes2020_data
hosp_toledo
devtools::document()
?municipios
devtools::document()
setwd("~/GitHub/CDR/data-raw")
?readRDS
dt_daily_mean_2011 <- readRDS(here::here("data-raw/dt_daily_mean_2011.RDS"))
usethis::use_data(dt_daily_mean_2011, overwrite = TRUE)
usethis::use_r("dt_daily_mean_2011")
use_test()
devtools::document()
devtools::check()
devtools::document()
devtools::document()
devtools::check()
tempmax_data <- load(here::here("data-raw/tempmax_data.RData"))
usethis::use_data(tempmax_data, overwrite = TRUE)
usethis::use_r("tempmax_data")
devtools::document()
devtools::document()
devtools::check()
devtools::check()
devtools::check()
remove.packages("CDR", lib="~/R/win-library/3.6")
library(CDR)
data("tempmax_data")
force(tempmax_data)
data("tempmax_data")
force(tempmax_data)
load(tempmax_data)
?load
?usethis::use_data
as.list()
tempmax_data <- as.list(load(here::here("data-raw/tempmax_data.RData")))
View(tempmax_data)
load(here::here("data-raw/tempmax_data.RData"))
list(load(here::here("data-raw/tempmax_data.RData")))
tempmax_data <- list(ESP, ESP_utm, grd_sf, grd_sp,temp_max_utm_sf,
temp_max_utm_sp)
View(tempmax_data)
load(here::here("data-raw/tempmax_data.RData"))
tempmax_data <- list(ESP, ESP_utm, grd_sf, grd_sp,temp_max_utm_sf,
temp_max_utm_sp)
usethis::use_data(unlist(tempmax_data), overwrite = TRUE)
load(here::here("data-raw/tempmax_data.RData"))
tempmax_data <- list(ESP, ESP_utm, grd_sf, grd_sp,temp_max_utm_sf,
temp_max_utm_sp)
usethis::use_data(tempmax_data, overwrite = TRUE)
remove.packages("CDR", lib="~/R/win-library/3.6")
library(CDR)
data("tempmax_data")
tempmax_data
View(tempmax_data)
?list
load(here::here("data-raw/tempmax_data.RData"))
tempmax_data <- as.list(ESP, ESP_utm, grd_sf, grd_sp,temp_max_utm_sf,
temp_max_utm_sp)
View(tempmax_data)
tempmax_data <- list(ESP=ESP, ESP_utm=ESP_utm, grd_sf=grd_sf,
grd_sp=grd_sp,temp_max_utm_sf=temp_max_utm_sf,
temp_max_utm_sp=temp_max_utm_sp)
View(tempmax_data)
remove.packages("CDR", lib="~/R/win-library/3.6")
library(CDR)
data("tempmax_data")
View(tempmax_data)
load(here::here("data-raw/tempmax_data.RData"))
tempmax_data <- list(ESP=ESP, ESP_utm=ESP_utm, grd_sf=grd_sf,
grd_sp=grd_sp,temp_max_utm_sf=temp_max_utm_sf,
temp_max_utm_sp=temp_max_utm_sp)
View(tempmax_data)
load(here::here("data-raw/tempmax_data.RData"))
tempmax_data <- list(ESP=ESP, ESP_utm=ESP_utm, grd_sf=grd_sf,
grd_sp=grd_sp,temp_max_utm_sf=temp_max_utm_sf,
temp_max_utm_sp=temp_max_utm_sp)
usethis::use_data(tempmax_data, overwrite = TRUE)
remove.packages("CDR", lib="~/R/win-library/3.6")
library(CDR)
data("tempmax_data")
library(CDR)
unlist(data("tempmax_data"))
force(tempmax_data)
View(tempmax_data)
x <- unlist(tempmax_data)
?unlist
View(x)
?split
?list
?splot
?split
lapply(tempmax_data, sample)
?assign
View(tempmax_data)
install.packages("DataExplorer")
library(DataExplorer)
install.packages("igraph")
library(DataExplorer)
install.packages("igraph")
install.packages("C:/Users/mmfus/Downloads/igraph_1.3.5.tar.gz", repos = NULL, type = "source")
library(pROC)
?roc
library(e1071)
plot(svm_model,df)
pos <- data.frame(x=sample(1:5,10,replace = TRUE),y=sample(1:10,10,replace = TRUE))
pos
pos <- unique(pos)
pos <- data.frame(x=sample(1:5,10,replace = TRUE),y=sample(5:10,10,replace = TRUE))
pos <- unique(pos)
pos <- data.frame(x=sample(6:10,10,replace = TRUE),y=sample(1:5,10,replace = TRUE))
pos <- data.frame(x=sample(1:5,10,replace = TRUE),y=sample(5:10,10,replace = TRUE))
pos <- unique(pos)
neg <- data.frame(x=sample(6:10,10,replace = TRUE),y=sample(1:5,10,replace = TRUE))
neg <- unique(neg)
plot(pos,type="p")
plot(pos,type="p",xlim=c(0,12))
plot(pos,type="p",xlim=c(-2,12))
plot(pos,type="p",xlim=c(0,12))
plot(pos,type="p",xlim=c(0,12),ylim=c(-2,12))
